{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getPosts(query) {\n  const BASE_URL = \"https://pixabay.com\";\n  const END_POINT = \"/api/\";\n  const params = new URLSearchParams({\n    key: \"41636185-b642aedee9ddf38a3f46d8b56\",\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true'\n  });\nconst url = `${BASE_URL}${END_POINT}?${params}`\n\n  return fetch(url)\n    .then((res) => res.json())\n    .catch(error => {\n     throw new Error (`HTTP error! status: ${res.status}`)\n    })\n}\n\n\n\n","export function renderImg(hits) {\n  return hits.reduce((html, { largeImageURL, webformatURL, tags, likes, views, comments, downloads }) => {\n    return (\n      html +\n      `<li class=\"gallery-item\">\n        <a href=${largeImageURL}> \n          <img class=\"gallery-img\" src=${webformatURL} alt=\"${tags}\"/>\n        </a>\n        <div class=\"gallery-text-box\">\n          <p>Likes: <span class=\"text-value\">${likes}</span></p>\n          <p>Views: <span class=\"text-value\">${views}</span></p>\n          <p>Comments: <span class=\"text-value\">${comments}</span></p>\n          <p>Downloads: <span class=\"text-value\">${downloads}</span></p>\n        </div>\n      </li>`\n    );\n  }, '');\n  \n}\n\n\n\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport { getPosts } from './js/pixabay-api.js';\nimport { renderImg } from './js/render-functions.js';\n\nconst form = document.querySelector(\".form\");\nconst gallery = document.querySelector(\".gallery\");\nconst searchInput = document.getElementById('search-input');\nconst loader = document.querySelector(\".loader\");\n\nform.addEventListener('submit', async (e) => {\n  e.preventDefault(); \n  const query = searchInput.value.trim();\n   if (query === '') {\n    iziToast.error({\n      message: 'Please enter text',\n      position: 'topCenter'\n    });\n    return;\n  }\n  loader.style.display = 'block';\n  gallery.innerHTML = '';\n\n  try {\n    const data = await getPosts(query);\n    if (data.hits.length > 0) {\n      const html = renderImg(data.hits);\n      gallery.innerHTML = html;\n      const lightbox = new SimpleLightbox('.gallery a', {\n        nav: true,\n        captionsData: 'alt',\n        captionDelay: 250,\n        close: true,\n        enableKeyboard: true,\n        docClose: true\n      });\n      lightbox.refresh();\n    } else {\n      iziToast.info({\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topCenter'\n      });\n    }\n  } catch (error) {\n    console.error('Error:', error);\n    iziToast.error({\n      message: 'An error occurred. Try again later.',\n      position: 'topCenter'\n    });\n  } finally {\n\n    loader.style.display = 'none';\n  }\n});\n\n\n"],"names":["getPosts","query","BASE_URL","END_POINT","params","url","res","error","renderImg","hits","html","largeImageURL","webformatURL","tags","likes","views","comments","downloads","form","gallery","searchInput","loader","e","iziToast","data","SimpleLightbox"],"mappings":"wvBAAO,SAASA,EAASC,EAAO,CAC9B,MAAMC,EAAW,sBACXC,EAAY,QACZC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGH,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,CAAG,EACGI,EAAM,GAAGH,CAAQ,GAAGC,CAAS,IAAIC,CAAM,GAE3C,OAAO,MAAMC,CAAG,EACb,KAAMC,GAAQA,EAAI,KAAI,CAAE,EACxB,MAAMC,GAAS,CACf,MAAM,IAAI,MAAO,uBAAuB,IAAI,MAAM,EAAE,CACzD,CAAK,CACL,CCjBO,SAASC,EAAUC,EAAM,CAC9B,OAAOA,EAAK,OAAO,CAACC,EAAM,CAAE,cAAAC,EAAe,aAAAC,EAAc,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAE5FP,EACA;AAAA,kBACYC,CAAa;AAAA,yCACUC,CAAY,SAASC,CAAI;AAAA;AAAA;AAAA,+CAGnBC,CAAK;AAAA,+CACLC,CAAK;AAAA,kDACFC,CAAQ;AAAA,mDACPC,CAAS;AAAA;AAAA,aAIvD,EAAE,CAEP,CCXA,MAAMC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,eAAe,cAAc,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/CH,EAAK,iBAAiB,SAAU,MAAOI,GAAM,CAC3CA,EAAE,eAAc,EAChB,MAAMrB,EAAQmB,EAAY,MAAM,KAAI,EACnC,GAAInB,IAAU,GAAI,CACjBsB,EAAS,MAAM,CACb,QAAS,oBACT,SAAU,WAChB,CAAK,EACD,MACD,CACDF,EAAO,MAAM,QAAU,QACvBF,EAAQ,UAAY,GAEpB,GAAI,CACF,MAAMK,EAAO,MAAMxB,EAASC,CAAK,EACjC,GAAIuB,EAAK,KAAK,OAAS,EAAG,CACxB,MAAMd,EAAOF,EAAUgB,EAAK,IAAI,EAChCL,EAAQ,UAAYT,EACH,IAAIe,EAAe,aAAc,CAChD,IAAK,GACL,aAAc,MACd,aAAc,IACd,MAAO,GACP,eAAgB,GAChB,SAAU,EAClB,CAAO,EACQ,QAAO,CACtB,MACMF,EAAS,KAAK,CACZ,QAAS,2EACT,SAAU,WAClB,CAAO,CAEJ,OAAQhB,EAAO,CACd,QAAQ,MAAM,SAAUA,CAAK,EAC7BgB,EAAS,MAAM,CACb,QAAS,sCACT,SAAU,WAChB,CAAK,CACL,QAAY,CAERF,EAAO,MAAM,QAAU,MACxB,CACH,CAAC"}